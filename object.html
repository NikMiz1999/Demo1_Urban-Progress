<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Объект: Улица 65‑летия Октября</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Inter, sans-serif; background:#0f1115; color:#e9edf5; margin:0; padding:20px; }
    h2,h3 { color:#4f8cff; }
    .dashboard { display:grid; grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); gap:16px; margin-bottom:20px; }
    .kpi { background:#16191f; border:1px solid #222733; border-radius:12px; padding:16px; text-align:center; }
    .kpi h3 { margin:0; font-size:14px; color:#a3a9b7; }
    .kpi p { margin:8px 0 0; font-size:22px; font-weight:bold; }
    .card { background:#16191f; border:1px solid #222733; border-radius:12px; padding:16px; margin-bottom:20px; }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th, td { border:1px solid #333; padding:8px; text-align:left; }
    th { background:#1c2029; }
    a { color:#4f8cff; text-decoration:none; }
  </style>
</head>
<body>
  <h2>Объект: Улица 65‑летия Октября</h2>

  <div class="dashboard">
    <div class="kpi"><h3>Готовность</h3><p>65%</p></div>
    <div class="kpi"><h3>Зон подрядчиков</h3><p>3</p></div>
  </div>

  <div class="card">
    <h3>Подрядчики</h3>
    <table>
      <tr><th>Подрядчик</th><th>Зона</th><th>Прогресс</th><th>Детали</th></tr>
      <tr><td>ООО «ГранитСтрой»</td><td>zone_1</td><td>60%</td><td><a href="zone_granit.html">Открыть</a></td></tr>
      <tr><td>ООО «СветЛайн»</td><td>zone_2</td><td>80%</td><td><a href="zone_svetline.html">Открыть</a></td></tr>
      <tr><td>ООО «МАФ‑Про»</td><td>zone_3</td><td>40%</td><td><a href="zone_mafpro.html">Открыть</a></td></tr>
    </table>
  </div>

  <div class="card">
    <h3>График динамики выполнения по объекту</h3>
    <canvas id="objectChart"></canvas>
  </div>

  <div class="card">
    <h3>Выполнение по видам работ (суммарно)</h3>
    <canvas id="stackedChart"></canvas>
  </div>

  <div class="card">
    <h3>Доля подрядчиков в прогрессе</h3>
    <canvas id="pieChart"></canvas>
  </div>

  <div class="card">
    <h3>План‑факт по объекту</h3>
    <table>
      <tr><th>Показатель</th><th>План</th><th>Факт</th><th>Отклонение</th></tr>
      <tr><td>Плитка</td><td>3000 м²</td><td>2230 м²</td><td>-770 м²</td></tr>
      <tr><td>Бордюры</td><td>1500 м</td><td>1100 м</td><td>-400 м</td></tr>
      <tr><td>МАФы</td><td>60 шт</td><td>40 шт</td><td>-20 шт</td></tr>
    </table>
  </div>

  <div class="card">
    <h3>Сравнение со сметой</h3>
    <table>
      <tr><th>Подрядчик</th><th>План (₽)</th><th>Факт (₽)</th><th>Отклонение</th><th>% выполнения</th></tr>
      <tr><td>ГранитСтрой</td><td>12 500 000</td><td>7 500 000</td><td>-5 000 000</td><td>60%</td></tr>
      <tr><td>СветЛайн</td><td>11 800 000</td><td>9 440 000</td><td>-2 360 000</td><td>80%</td></tr>
      <tr><td>МАФ‑Про</td><td>13 000 000</td><td>5 200 000</td><td>-7 800 000</td><td>40%</td></tr>
      <tr><td><strong>Итого</strong></td><td><strong>37 300 000</strong></td><td><strong>22 140 000</strong></td><td><strong>-15 160 000</strong></td><td><strong>59%</strong></td></tr>
    </table>
    <canvas id="budgetChart"></canvas>
  </div>


  <div class="card">
    <h3>Статусы зон</h3>
    <table>
      <tr><th>Статус</th><th>Количество</th></tr>
      <tr><td>Выполнено</td><td>0</td></tr>
      <tr><td>В процессе</td><td>3</td></tr>
      <tr><td>Отставание</td><td>3</td></tr>
    </table>
  </div>


<script>
  const ctx = document.getElementById('objectChart').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Неделя 1','Неделя 2','Неделя 3','Неделя 4'],
      datasets: [
        { label:'План', data:[20,40,70,100], borderColor:'#4f8cff', fill:false },
        { label:'Факт', data:[18,35,55,85], borderColor:'#2bd27e', fill:false }
      ]
    },
    options: { plugins:{ legend:{ labels:{ color:'#e9edf5' } } },
      scales:{ x:{ ticks:{ color:'#a3a9b7'} }, y:{ ticks:{ color:'#a3a9b7'} } }
    }
  });

  // stacked bar chart
const ctx2 = document.getElementById('stackedChart').getContext('2d');
new Chart(ctx2, {
  type: 'bar',
  data: {
    labels: ['Неделя 1','Неделя 2','Неделя 3','Неделя 4'],
    datasets: [
      { label:'Плитка (м²)', data:[500,700,600,430], backgroundColor:'#4f8cff' },
      { label:'Бордюры (м)', data:[200,300,300,300], backgroundColor:'#2bd27e' },
      { label:'МАФы (шт)', data:[5,10,15,10], backgroundColor:'#f2c94c' }
    ]
  },
  options: {
    responsive:true,
    plugins:{ legend:{ labels:{ color:'#e9edf5' } } },
    scales:{
      x:{ stacked:true, ticks:{ color:'#a3a9b7'} },
      y:{ stacked:true, ticks:{ color:'#a3a9b7'} }
    }
  }
});

// pie chart
const ctx3 = document.getElementById('pieChart').getContext('2d');
new Chart(ctx3, {
  type: 'pie',
  data: {
    labels: ['ГранитСтрой (60%)','СветЛайн (80%)','МАФ‑Про (40%)'],
    datasets: [{
      data: [60,80,40],
      backgroundColor: ['#4f8cff','#2bd27e','#ff5c77']
    }]
  },
  options: {
    plugins:{ legend:{ labels:{ color:'#e9edf5' } } }
  }
});

// budget bar chart
const ctxBudget = document.getElementById('budgetChart').getContext('2d');
new Chart(ctxBudget, {
  type: 'bar',
  data: {
    labels: ['ГранитСтрой','СветЛайн','МАФ‑Про'],
    datasets: [
      { label:'План (₽)', data:[12500000,11800000,13000000], backgroundColor:'#555' },
      { label:'Факт (₽)', data:[7500000,9440000,5200000], backgroundColor:'#ff5c77' }
    ]
  },
  options: {
    responsive:true,
    plugins:{ legend:{ labels:{ color:'#e9edf5' } } },
    scales:{
      x:{ ticks:{ color:'#a3a9b7'} },
      y:{ ticks:{ color:'#a3a9b7'}, beginAtZero:true }
    }
  }
});


</script>
</body>
</html>
